---
version: v1.0
name: Benchmarking suite
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804
blocks:
- name: setup
  dependencies: []
  task:
    jobs:
    - name: setup
      commands:
      - checkout
      - cache restore
      - sudo snap install crystal --classic
      - sudo apt-get -y install libyaml-dev libevent-dev
      - bundle install
      - cache store
      - rake config
      - shards build
    epilogue:
      always:
        commands:
        - artifact push workflow bin
- name: julia
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: merly
      commands:
      - bin/neph julia/merly --mode=CI
      - FRAMEWORK=julia.merly bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: javascript
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: sifrr
      commands:
      - bin/neph javascript/sifrr --mode=CI
      - FRAMEWORK=javascript.sifrr bundle exec rspec .spec
    - name: restify
      commands:
      - bin/neph javascript/restify --mode=CI
      - FRAMEWORK=javascript.restify bundle exec rspec .spec
    - name: restana
      commands:
      - bin/neph javascript/restana --mode=CI
      - FRAMEWORK=javascript.restana bundle exec rspec .spec
    - name: rayo
      commands:
      - bin/neph javascript/rayo --mode=CI
      - FRAMEWORK=javascript.rayo bundle exec rspec .spec
    - name: polkadot
      commands:
      - bin/neph javascript/polkadot --mode=CI
      - FRAMEWORK=javascript.polkadot bundle exec rspec .spec
    - name: polka
      commands:
      - bin/neph javascript/polka --mode=CI
      - FRAMEWORK=javascript.polka bundle exec rspec .spec
    - name: muneem
      commands:
      - bin/neph javascript/muneem --mode=CI
      - FRAMEWORK=javascript.muneem bundle exec rspec .spec
    - name: moleculer
      commands:
      - bin/neph javascript/moleculer --mode=CI
      - FRAMEWORK=javascript.moleculer bundle exec rspec .spec
    - name: koa
      commands:
      - bin/neph javascript/koa --mode=CI
      - FRAMEWORK=javascript.koa bundle exec rspec .spec
    - name: iotjs-express
      commands:
      - bin/neph javascript/iotjs-express --mode=CI
      - FRAMEWORK=javascript.iotjs-express bundle exec rspec .spec
    - name: hapi
      commands:
      - bin/neph javascript/hapi --mode=CI
      - FRAMEWORK=javascript.hapi bundle exec rspec .spec
    - name: foxify
      commands:
      - bin/neph javascript/foxify --mode=CI
      - FRAMEWORK=javascript.foxify bundle exec rspec .spec
    - name: fastify
      commands:
      - bin/neph javascript/fastify --mode=CI
      - FRAMEWORK=javascript.fastify bundle exec rspec .spec
    - name: express
      commands:
      - bin/neph javascript/express --mode=CI
      - FRAMEWORK=javascript.express bundle exec rspec .spec
    - name: 0http
      commands:
      - bin/neph javascript/0http --mode=CI
      - FRAMEWORK=javascript.0http bundle exec rspec .spec
    - name: nanoexpress
      commands:
      - bin/neph javascript/nanoexpress --mode=CI
      - FRAMEWORK=javascript.nanoexpress bundle exec rspec .spec
    - name: turbo-polka
      commands:
      - bin/neph javascript/turbo-polka --mode=CI
      - FRAMEWORK=javascript.turbo-polka bundle exec rspec .spec
    - name: nestjs-fastify
      commands:
      - bin/neph javascript/nestjs-fastify --mode=CI
      - FRAMEWORK=javascript.nestjs-fastify bundle exec rspec .spec
    - name: nestjs-express
      commands:
      - bin/neph javascript/nestjs-express --mode=CI
      - FRAMEWORK=javascript.nestjs-express bundle exec rspec .spec
    - name: sails
      commands:
      - bin/neph javascript/sails --mode=CI
      - FRAMEWORK=javascript.sails bundle exec rspec .spec
    - name: feathersjs
      commands:
      - bin/neph javascript/feathersjs --mode=CI
      - FRAMEWORK=javascript.feathersjs bundle exec rspec .spec
    - name: nanoexpress-pro
      commands:
      - bin/neph javascript/nanoexpress-pro --mode=CI
      - FRAMEWORK=javascript.nanoexpress-pro bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: dart
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: aqueduct
      commands:
      - bin/neph dart/aqueduct --mode=CI
      - FRAMEWORK=dart.aqueduct bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: pony
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: jennet
      commands:
      - bin/neph pony/jennet --mode=CI
      - FRAMEWORK=pony.jennet bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: swift
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: swifter-framework
      commands:
      - bin/neph swift/swifter-framework --mode=CI
      - FRAMEWORK=swift.swifter-framework bundle exec rspec .spec
    - name: vapor-framework
      commands:
      - bin/neph swift/vapor-framework --mode=CI
      - FRAMEWORK=swift.vapor-framework bundle exec rspec .spec
    - name: perfect
      commands:
      - bin/neph swift/perfect --mode=CI
      - FRAMEWORK=swift.perfect bundle exec rspec .spec
    - name: kitura
      commands:
      - bin/neph swift/kitura --mode=CI
      - FRAMEWORK=swift.kitura bundle exec rspec .spec
    - name: kitura-nio
      commands:
      - bin/neph swift/kitura-nio --mode=CI
      - FRAMEWORK=swift.kitura-nio bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: scala
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: http4s
      commands:
      - bin/neph scala/http4s --mode=CI
      - FRAMEWORK=scala.http4s bundle exec rspec .spec
    - name: akkahttp
      commands:
      - bin/neph scala/akkahttp --mode=CI
      - FRAMEWORK=scala.akkahttp bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: rust
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: actix
      commands:
      - bin/neph rust/actix --mode=CI
      - FRAMEWORK=rust.actix bundle exec rspec .spec
    - name: nickel
      commands:
      - bin/neph rust/nickel --mode=CI
      - FRAMEWORK=rust.nickel bundle exec rspec .spec
    - name: iron
      commands:
      - bin/neph rust/iron --mode=CI
      - FRAMEWORK=rust.iron bundle exec rspec .spec
    - name: gotham
      commands:
      - bin/neph rust/gotham --mode=CI
      - FRAMEWORK=rust.gotham bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: ruby
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: rackstep
      commands:
      - bin/neph ruby/rackstep --mode=CI
      - FRAMEWORK=ruby.rackstep bundle exec rspec .spec
    - name: hanami-api
      commands:
      - bin/neph ruby/hanami-api --mode=CI
      - FRAMEWORK=ruby.hanami-api bundle exec rspec .spec
    - name: rack-app
      commands:
      - bin/neph ruby/rack-app --mode=CI
      - FRAMEWORK=ruby.rack-app bundle exec rspec .spec
    - name: syro
      commands:
      - bin/neph ruby/syro --mode=CI
      - FRAMEWORK=ruby.syro bundle exec rspec .spec
    - name: sinatra
      commands:
      - bin/neph ruby/sinatra --mode=CI
      - FRAMEWORK=ruby.sinatra bundle exec rspec .spec
    - name: roda
      commands:
      - bin/neph ruby/roda --mode=CI
      - FRAMEWORK=ruby.roda bundle exec rspec .spec
    - name: rails
      commands:
      - bin/neph ruby/rails --mode=CI
      - FRAMEWORK=ruby.rails bundle exec rspec .spec
    - name: rack-routing
      commands:
      - bin/neph ruby/rack-routing --mode=CI
      - FRAMEWORK=ruby.rack-routing bundle exec rspec .spec
    - name: hanami
      commands:
      - bin/neph ruby/hanami --mode=CI
      - FRAMEWORK=ruby.hanami bundle exec rspec .spec
    - name: grape
      commands:
      - bin/neph ruby/grape --mode=CI
      - FRAMEWORK=ruby.grape bundle exec rspec .spec
    - name: flame
      commands:
      - bin/neph ruby/flame --mode=CI
      - FRAMEWORK=ruby.flame bundle exec rspec .spec
    - name: cuba
      commands:
      - bin/neph ruby/cuba --mode=CI
      - FRAMEWORK=ruby.cuba bundle exec rspec .spec
    - name: camping
      commands:
      - bin/neph ruby/camping --mode=CI
      - FRAMEWORK=ruby.camping bundle exec rspec .spec
    - name: agoo
      commands:
      - bin/neph ruby/agoo --mode=CI
      - FRAMEWORK=ruby.agoo bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: python
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: emmett
      commands:
      - bin/neph python/emmett --mode=CI
      - FRAMEWORK=python.emmett bundle exec rspec .spec
    - name: pyramid
      commands:
      - bin/neph python/pyramid --mode=CI
      - FRAMEWORK=python.pyramid bundle exec rspec .spec
    - name: apidaora
      commands:
      - bin/neph python/apidaora --mode=CI
      - FRAMEWORK=python.apidaora bundle exec rspec .spec
    - name: tornado
      commands:
      - bin/neph python/tornado --mode=CI
      - FRAMEWORK=python.tornado bundle exec rspec .spec
    - name: starlette
      commands:
      - bin/neph python/starlette --mode=CI
      - FRAMEWORK=python.starlette bundle exec rspec .spec
    - name: sanic
      commands:
      - bin/neph python/sanic --mode=CI
      - FRAMEWORK=python.sanic bundle exec rspec .spec
    - name: responder
      commands:
      - bin/neph python/responder --mode=CI
      - FRAMEWORK=python.responder bundle exec rspec .spec
    - name: quart
      commands:
      - bin/neph python/quart --mode=CI
      - FRAMEWORK=python.quart bundle exec rspec .spec
    - name: nameko
      commands:
      - bin/neph python/nameko --mode=CI
      - FRAMEWORK=python.nameko bundle exec rspec .spec
    - name: molten
      commands:
      - bin/neph python/molten --mode=CI
      - FRAMEWORK=python.molten bundle exec rspec .spec
    - name: masonite
      commands:
      - bin/neph python/masonite --mode=CI
      - FRAMEWORK=python.masonite bundle exec rspec .spec
    - name: klein
      commands:
      - bin/neph python/klein --mode=CI
      - FRAMEWORK=python.klein bundle exec rspec .spec
    - name: hug
      commands:
      - bin/neph python/hug --mode=CI
      - FRAMEWORK=python.hug bundle exec rspec .spec
    - name: flask
      commands:
      - bin/neph python/flask --mode=CI
      - FRAMEWORK=python.flask bundle exec rspec .spec
    - name: fastapi
      commands:
      - bin/neph python/fastapi --mode=CI
      - FRAMEWORK=python.fastapi bundle exec rspec .spec
    - name: falcon
      commands:
      - bin/neph python/falcon --mode=CI
      - FRAMEWORK=python.falcon bundle exec rspec .spec
    - name: django
      commands:
      - bin/neph python/django --mode=CI
      - FRAMEWORK=python.django bundle exec rspec .spec
    - name: cyclone
      commands:
      - bin/neph python/cyclone --mode=CI
      - FRAMEWORK=python.cyclone bundle exec rspec .spec
    - name: clastic
      commands:
      - bin/neph python/clastic --mode=CI
      - FRAMEWORK=python.clastic bundle exec rspec .spec
    - name: cherrypy
      commands:
      - bin/neph python/cherrypy --mode=CI
      - FRAMEWORK=python.cherrypy bundle exec rspec .spec
    - name: bottle
      commands:
      - bin/neph python/bottle --mode=CI
      - FRAMEWORK=python.bottle bundle exec rspec .spec
    - name: blacksheep
      commands:
      - bin/neph python/blacksheep --mode=CI
      - FRAMEWORK=python.blacksheep bundle exec rspec .spec
    - name: asgineer
      commands:
      - bin/neph python/asgineer --mode=CI
      - FRAMEWORK=python.asgineer bundle exec rspec .spec
    - name: aiohttp
      commands:
      - bin/neph python/aiohttp --mode=CI
      - FRAMEWORK=python.aiohttp bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: php
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: siler-swoole
      commands:
      - bin/neph php/siler-swoole --mode=CI
      - FRAMEWORK=php.siler-swoole bundle exec rspec .spec
    - name: siler
      commands:
      - bin/neph php/siler --mode=CI
      - FRAMEWORK=php.siler bundle exec rspec .spec
    - name: chubbyphp
      commands:
      - bin/neph php/chubbyphp --mode=CI
      - FRAMEWORK=php.chubbyphp bundle exec rspec .spec
    - name: mezzio
      commands:
      - bin/neph php/mezzio --mode=CI
      - FRAMEWORK=php.mezzio bundle exec rspec .spec
    - name: ice
      commands:
      - bin/neph php/ice --mode=CI
      - FRAMEWORK=php.ice bundle exec rspec .spec
    - name: laminas
      commands:
      - bin/neph php/laminas --mode=CI
      - FRAMEWORK=php.laminas bundle exec rspec .spec
    - name: simps
      commands:
      - bin/neph php/simps --mode=CI
      - FRAMEWORK=php.simps bundle exec rspec .spec
    - name: yii
      commands:
      - bin/neph php/yii --mode=CI
      - FRAMEWORK=php.yii bundle exec rspec .spec
    - name: hamlet
      commands:
      - bin/neph php/hamlet --mode=CI
      - FRAMEWORK=php.hamlet bundle exec rspec .spec
    - name: phalcon
      commands:
      - bin/neph php/phalcon --mode=CI
      - FRAMEWORK=php.phalcon bundle exec rspec .spec
    - name: workerman
      commands:
      - bin/neph php/workerman --mode=CI
      - FRAMEWORK=php.workerman bundle exec rspec .spec
    - name: yii-swoole
      commands:
      - bin/neph php/yii-swoole --mode=CI
      - FRAMEWORK=php.yii-swoole bundle exec rspec .spec
    - name: ubiquity
      commands:
      - bin/neph php/ubiquity --mode=CI
      - FRAMEWORK=php.ubiquity bundle exec rspec .spec
    - name: one-fpm
      commands:
      - bin/neph php/one-fpm --mode=CI
      - FRAMEWORK=php.one-fpm bundle exec rspec .spec
    - name: symfony
      commands:
      - bin/neph php/symfony --mode=CI
      - FRAMEWORK=php.symfony bundle exec rspec .spec
    - name: swoft
      commands:
      - bin/neph php/swoft --mode=CI
      - FRAMEWORK=php.swoft bundle exec rspec .spec
    - name: sw-fw-less
      commands:
      - bin/neph php/sw-fw-less --mode=CI
      - FRAMEWORK=php.sw-fw-less bundle exec rspec .spec
    - name: spiral
      commands:
      - bin/neph php/spiral --mode=CI
      - FRAMEWORK=php.spiral bundle exec rspec .spec
    - name: slim
      commands:
      - bin/neph php/slim --mode=CI
      - FRAMEWORK=php.slim bundle exec rspec .spec
    - name: one
      commands:
      - bin/neph php/one --mode=CI
      - FRAMEWORK=php.one bundle exec rspec .spec
    - name: lumen
      commands:
      - bin/neph php/lumen --mode=CI
      - FRAMEWORK=php.lumen bundle exec rspec .spec
    - name: laravel
      commands:
      - bin/neph php/laravel --mode=CI
      - FRAMEWORK=php.laravel bundle exec rspec .spec
    - name: imi
      commands:
      - bin/neph php/imi --mode=CI
      - FRAMEWORK=php.imi bundle exec rspec .spec
    - name: hyperf
      commands:
      - bin/neph php/hyperf --mode=CI
      - FRAMEWORK=php.hyperf bundle exec rspec .spec
    - name: basicphp
      commands:
      - bin/neph php/basicphp --mode=CI
      - FRAMEWORK=php.basicphp bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: perl
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: dancer2
      commands:
      - bin/neph perl/dancer2 --mode=CI
      - FRAMEWORK=perl.dancer2 bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: nim
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: jester
      commands:
      - bin/neph nim/jester --mode=CI
      - FRAMEWORK=nim.jester bundle exec rspec .spec
    - name: httpbeast
      commands:
      - bin/neph nim/httpbeast --mode=CI
      - FRAMEWORK=nim.httpbeast bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: kotlin
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: kooby
      commands:
      - bin/neph kotlin/kooby --mode=CI
      - FRAMEWORK=kotlin.kooby bundle exec rspec .spec
    - name: ktor
      commands:
      - bin/neph kotlin/ktor --mode=CI
      - FRAMEWORK=kotlin.ktor bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: java
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: spring-framework
      commands:
      - bin/neph java/spring-framework --mode=CI
      - FRAMEWORK=java.spring-framework bundle exec rspec .spec
    - name: jooby
      commands:
      - bin/neph java/jooby --mode=CI
      - FRAMEWORK=java.jooby bundle exec rspec .spec
    - name: spring-boot
      commands:
      - bin/neph java/spring-boot --mode=CI
      - FRAMEWORK=java.spring-boot bundle exec rspec .spec
    - name: rapidoid
      commands:
      - bin/neph java/rapidoid --mode=CI
      - FRAMEWORK=java.rapidoid bundle exec rspec .spec
    - name: micronaut
      commands:
      - bin/neph java/micronaut --mode=CI
      - FRAMEWORK=java.micronaut bundle exec rspec .spec
    - name: javalin
      commands:
      - bin/neph java/javalin --mode=CI
      - FRAMEWORK=java.javalin bundle exec rspec .spec
    - name: act
      commands:
      - bin/neph java/act --mode=CI
      - FRAMEWORK=java.act bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: go
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: httprouter
      commands:
      - bin/neph go/httprouter --mode=CI
      - FRAMEWORK=go.httprouter bundle exec rspec .spec
    - name: aero
      commands:
      - bin/neph go/aero --mode=CI
      - FRAMEWORK=go.aero bundle exec rspec .spec
    - name: tango
      commands:
      - bin/neph go/tango --mode=CI
      - FRAMEWORK=go.tango bundle exec rspec .spec
    - name: fiber
      commands:
      - bin/neph go/fiber --mode=CI
      - FRAMEWORK=go.fiber bundle exec rspec .spec
    - name: router
      commands:
      - bin/neph go/router --mode=CI
      - FRAMEWORK=go.router bundle exec rspec .spec
    - name: mars
      commands:
      - bin/neph go/mars --mode=CI
      - FRAMEWORK=go.mars bundle exec rspec .spec
    - name: webgo
      commands:
      - bin/neph go/webgo --mode=CI
      - FRAMEWORK=go.webgo bundle exec rspec .spec
    - name: violetear
      commands:
      - bin/neph go/violetear --mode=CI
      - FRAMEWORK=go.violetear bundle exec rspec .spec
    - name: rte
      commands:
      - bin/neph go/rte --mode=CI
      - FRAMEWORK=go.rte bundle exec rspec .spec
    - name: kami
      commands:
      - bin/neph go/kami --mode=CI
      - FRAMEWORK=go.kami bundle exec rspec .spec
    - name: gramework
      commands:
      - bin/neph go/gramework --mode=CI
      - FRAMEWORK=go.gramework bundle exec rspec .spec
    - name: gorouter
      commands:
      - bin/neph go/gorouter --mode=CI
      - FRAMEWORK=go.gorouter bundle exec rspec .spec
    - name: gorouter-fasthttp
      commands:
      - bin/neph go/gorouter-fasthttp --mode=CI
      - FRAMEWORK=go.gorouter-fasthttp bundle exec rspec .spec
    - name: goroute
      commands:
      - bin/neph go/goroute --mode=CI
      - FRAMEWORK=go.goroute bundle exec rspec .spec
    - name: gorilla-mux
      commands:
      - bin/neph go/gorilla-mux --mode=CI
      - FRAMEWORK=go.gorilla-mux bundle exec rspec .spec
    - name: gin
      commands:
      - bin/neph go/gin --mode=CI
      - FRAMEWORK=go.gin bundle exec rspec .spec
    - name: gf
      commands:
      - bin/neph go/gf --mode=CI
      - FRAMEWORK=go.gf bundle exec rspec .spec
    - name: fasthttprouter
      commands:
      - bin/neph go/fasthttprouter --mode=CI
      - FRAMEWORK=go.fasthttprouter bundle exec rspec .spec
    - name: fasthttp
      commands:
      - bin/neph go/fasthttp --mode=CI
      - FRAMEWORK=go.fasthttp bundle exec rspec .spec
    - name: echo
      commands:
      - bin/neph go/echo --mode=CI
      - FRAMEWORK=go.echo bundle exec rspec .spec
    - name: chi
      commands:
      - bin/neph go/chi --mode=CI
      - FRAMEWORK=go.chi bundle exec rspec .spec
    - name: beego
      commands:
      - bin/neph go/beego --mode=CI
      - FRAMEWORK=go.beego bundle exec rspec .spec
    - name: atreugo
      commands:
      - bin/neph go/atreugo --mode=CI
      - FRAMEWORK=go.atreugo bundle exec rspec .spec
    - name: air
      commands:
      - bin/neph go/air --mode=CI
      - FRAMEWORK=go.air bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: fsharp
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: suave
      commands:
      - bin/neph fsharp/suave --mode=CI
      - FRAMEWORK=fsharp.suave bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: elixir
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: cowboy_stream
      commands:
      - bin/neph elixir/cowboy_stream --mode=CI
      - FRAMEWORK=elixir.cowboy_stream bundle exec rspec .spec
    - name: cowboy
      commands:
      - bin/neph elixir/cowboy --mode=CI
      - FRAMEWORK=elixir.cowboy bundle exec rspec .spec
    - name: plug
      commands:
      - bin/neph elixir/plug --mode=CI
      - FRAMEWORK=elixir.plug bundle exec rspec .spec
    - name: phoenix
      commands:
      - bin/neph elixir/phoenix --mode=CI
      - FRAMEWORK=elixir.phoenix bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: csharp
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: aspnetcore
      commands:
      - bin/neph csharp/aspnetcore --mode=CI
      - FRAMEWORK=csharp.aspnetcore bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: crystal
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: ricr
      commands:
      - bin/neph crystal/ricr --mode=CI
      - FRAMEWORK=crystal.ricr bundle exec rspec .spec
    - name: shivneri
      commands:
      - bin/neph crystal/shivneri --mode=CI
      - FRAMEWORK=crystal.shivneri bundle exec rspec .spec
    - name: grip
      commands:
      - bin/neph crystal/grip --mode=CI
      - FRAMEWORK=crystal.grip bundle exec rspec .spec
    - name: toro
      commands:
      - bin/neph crystal/toro --mode=CI
      - FRAMEWORK=crystal.toro bundle exec rspec .spec
    - name: spider-gazelle
      commands:
      - bin/neph crystal/spider-gazelle --mode=CI
      - FRAMEWORK=crystal.spider-gazelle bundle exec rspec .spec
    - name: router.cr
      commands:
      - bin/neph crystal/router.cr --mode=CI
      - FRAMEWORK=crystal.router.cr bundle exec rspec .spec
    - name: orion
      commands:
      - bin/neph crystal/orion --mode=CI
      - FRAMEWORK=crystal.orion bundle exec rspec .spec
    - name: onyx
      commands:
      - bin/neph crystal/onyx --mode=CI
      - FRAMEWORK=crystal.onyx bundle exec rspec .spec
    - name: lucky
      commands:
      - bin/neph crystal/lucky --mode=CI
      - FRAMEWORK=crystal.lucky bundle exec rspec .spec
    - name: kemal
      commands:
      - bin/neph crystal/kemal --mode=CI
      - FRAMEWORK=crystal.kemal bundle exec rspec .spec
    - name: athena
      commands:
      - bin/neph crystal/athena --mode=CI
      - FRAMEWORK=crystal.athena bundle exec rspec .spec
    - name: amber
      commands:
      - bin/neph crystal/amber --mode=CI
      - FRAMEWORK=crystal.amber bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: cpp
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: evhtp
      commands:
      - bin/neph cpp/evhtp --mode=CI
      - FRAMEWORK=cpp.evhtp bundle exec rspec .spec
    - name: drogon
      commands:
      - bin/neph cpp/drogon --mode=CI
      - FRAMEWORK=cpp.drogon bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: clojure
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: coast
      commands:
      - bin/neph clojure/coast --mode=CI
      - FRAMEWORK=clojure.coast bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
- name: c
  dependencies:
  - setup
  task:
    prologue:
      commands:
      - checkout
      - cache restore
      - bundle install
      - artifact pull workflow bin
      - sudo apt-get -y install libevent-2.1-6
      - find bin -type f -exec chmod +x {} \;
      - rake config
    env_vars:
    - name: COLLECT
      value: 'off'
    - name: CLEAN
      value: 'off'
    jobs:
    - name: kore
      commands:
      - bin/neph c/kore --mode=CI
      - FRAMEWORK=c.kore bundle exec rspec .spec
    - name: agoo-c
      commands:
      - bin/neph c/agoo-c --mode=CI
      - FRAMEWORK=c.agoo-c bundle exec rspec .spec
    epilogue:
      always:
        commands:
        - artifact push workflow .neph
